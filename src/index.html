<script>
    const streamlitDoc = window.parent.document;

    buttons = Array.from(streamlitDoc.querySelectorAll(".stButton > button"));
    console.log(buttons);

    const leftButton = buttons.find((btn) => btn.innerText.includes("Desechar"));
    const rightButton = buttons.find((btn) => btn.innerText.includes("Mantener"));
    const undoButton = buttons.find((btn) => btn.innerText.includes("Deshacer"));

    leftButton.style.backgroundColor = "lightcoral";
    rightButton.style.backgroundColor = "darkseagreen";


    const isTyping = () => {
        const tag = document.activeElement?.tagName?.toLowerCase();
        return tag === "input" || tag === "textarea" || document.activeElement?.isContentEditable;
    };

    streamlitDoc.addEventListener("keydown", function(event) {
        if (isTyping()) {
            return;
        }
        switch (event.key) {
            case "ArrowLeft":
            case "a":
            case "A":
                leftButton.click();
                break;
            case "ArrowRight":
            case "d":
            case "D":
            case " ":
                rightButton.click();
                break;
            case "z":
            case "Z":
                undoButton.click();
                break;
            case "u":
            case "U":
                undoButton.click();
                break;
        }
    });
</script>